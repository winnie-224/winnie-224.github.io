<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8">
    <title>My GithuB Technologies</title>
    <style>
      body { font-family: sans-serif; padding: 20px;}
      h1 { color: #0366d6}
      .rep {margin-bottom: 20px; border-bottom: 1px solid #eee; padding-bottom: 10px;}
      .tech {color: #555; font-style: italic;}
    </style>
  </head>
  <body>
    <h1>Technologies in MyGitHub Projects</h1>
    <div id = 'repo-list'>Loading...</div>
    <script>
      const username = 'winnie-224';
      const repoListDiv = document.getElementById('repo-list');

      async function getReadme(repoName) {
        const response = await fetch(`https://api.github.com/users/${username}/repos`);
        const repos = await response.json()
        if(!data.content) return '';
        const decoded = atob(data.content.replace(/\n/g,''));
        return decoded;
      }
      function extractTechnologySection(readme) {
        const match = readme.match(/## Technology\s+([\s\S]*?)(?:\n##|\n#|$)/i);
        return match ? match[1].trim() : null;
      }
      async function displayTechnologies(){
        const repos = await getRepositories();
        repoListDiv.innerHTML = '';
        for(let repo of repos){
          const readme = await getReadme(repo.name);
          const tech = extractTechnologySection(readme);
          const div = document.createElement('div');
          div.className = 'repo';
          div.innerHTML = `
          <strong><a href="${repo.html_url}" target="_blank">${repo.name}</a></strong><br/>
          <div class="tech">${tech ? tech.replace(/\n/g, '<br>') : 'No Technology section found.'}</div>
        `;
          repoListDiv.appendChild(div);
        }
      }
      displayTechnologies();
    </script>
  </body>
</html>
